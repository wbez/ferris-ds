// Story body (c-story-body)
//
// Story bodies are a special component because we have limited control over the class names within them. We must deviate from BEM and create catch-all tag selectors to allow the greatest flexibility of the markup.
//
// Markup: 6-components/story-body/story-body.html
//
// Styleguide 6.1.3

$story-narrow: px-to-rem($bp-default * (colspan(8, 12) / 100%));

.c-story-body {
  @include font-setting(serif);
  font-size: $size-b;

  > * {
    max-width: $story-narrow;
  }

  .c-plugin,
  [class^='c-plugin-'] {
    max-width: unset;
    margin-top: $size-giant;
    margin-bottom: $size-xxl;
  }

  figure.c-plugin {
    margin-top: $size-b;
    margin-bottom: $size-b;

    &:not([class*='-is-']) {
      max-width: px-to-rem(
        $bp-default * (colspan(10, 12) - 2 * colspan(p, 12)) / 100%
      );
    }
  }

  > figure > figcaption {
    max-width: $story-narrow;
    margin-left: auto;
    margin-right: auto;
  }

  .c-accent-box {
    margin-top: $size-l;
    margin-bottom: $size-l;
    padding: $size-l $size-s;

    @media screen and (max-width: $story-narrow) {
      @include full-width;
    }

    @media screen and (min-width: $story-narrow) {
      max-width: $story-narrow + 2 * $size-s;
    }
  }
}
